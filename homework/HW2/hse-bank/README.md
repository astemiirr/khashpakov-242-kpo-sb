# HSE Bank Finance Tracker

Консольное приложение для учета личных финансов, разработанное в рамках домашнего задания по курсу "Конструирование программного обеспечения". Реализует ключевые модули банковской системы с применением паттернов проектирования.

## ОБЩАЯ ИДЕЯ РЕШЕНИЯ

Приложение представляет собой систему управления банковскими счетами с возможностью:
- Создание, просмотр и удаление счетов
- Пополнение и снятие средств
- Экспорт данных в JSON формат
- Импорт данных из JSON/XML
- Мониторинг баланса через систему наблюдения
- Измерение производительности операций

**Дополнительный функционал**: реализована система уведомлений при низком балансе, тайминг операций и кэширование данных.

## АРХИТЕКТУРА И ПРИНЦИПЫ

### SOLID ПРИНЦИПЫ

- **SRP** (Принцип единственной ответственности):
    - `BankAccountFacade` - работа только со счетами
    - `DomainFactory` - создание только доменных объектов
    - `DataVisitor` - только экспорт данных
    - `Command` - каждая команда выполняет одно действие
    - `Repository` - только работа с хранением данных

- **OCP** (Принцип открытости/закрытости):
    - `DataImporter` - легко добавлять новые форматы импорта
    - `Command` - новые команды не требуют изменения существующего кода
    - `BalanceObserver` - новые наблюдатели добавляются без изменения ObservableBankAccount

- **LSP** (Принцип подстановки Барбары Лисков):
    - `ObservableBankAccount` полностью заменяет `BankAccount` в любом контексте
    - Все реализации `Repository` взаимозаменяемы
    - Все декораторы `Command` совместимы с базовыми командами

- **ISP** (Принцип разделения интерфейсов):
    - `Command` - минимальный интерфейс для команд
    - `BalanceObserver` - только методы для наблюдения за балансом
    - `DataVisitor` - только методы для посещения объектов
    - `Repository` - только CRUD операции

- **DIP** (Принцип инверсии зависимостей):
    - `DIContainer` - инъекция зависимостей
    - `BankAccountFacade` зависит от абстракций `Repository` и `DomainFactory`
    - Программирование на интерфейсах `Command`, `BalanceObserver`, `DataVisitor`

### GRASP ПРИНЦИПЫ

- **High Cohesion**:
    - `BankAccount` - только логика банковского счета
    - `JsonExportVisitor` - только экспорт в JSON
    - `TimingDecorator` - только добавление тайминга
    - Каждый класс в пакете `importer` отвечает за свой формат

- **Low Coupling**:
    - Минимальные зависимости между модулями через DI
    - `Application` зависит только от фасадов
    - Наблюдатели слабо связаны с наблюдаемыми объектами
    - Команды изолированы друг от друга

## ПАТТЕРНЫ GoF

### ПОРОЖДАЮЩИЕ ПАТТЕРНЫ

1. **Фабрика** (`DomainFactory`) - централизованное создание объектов с валидацией, гарантирует корректное состояние доменных объектов
2. **DI Контейнер** (`DIContainer`) - управление зависимостями, упрощает тестирование и модификацию

### СТРУКТУРНЫЕ ПАТТЕРНЫ

3. **Фасад** (`BankAccountFacade`) - упрощенный интерфейс для работы со счетами, скрывает сложность внутренней реализации
4. **Декоратор** (`TimingDecorator`) - добавление тайминга к командам без изменения их исходного кода
5. **Прокси** (`BankAccountRepository`) - in-memory кэширование данных, прозрачное для клиентского кода
6. **Посетитель** (`JsonExportVisitor`) - экспорт данных в различные форматы без изменения классов доменной модели

### ПОВЕДЕНЧЕСКИЕ ПАТТЕРНЫ

7. **Команда** (`CreateBankAccountCommand`) - инкапсуляция действий, позволяет параметризовать клиентов операциями
8. **Наблюдатель** (`LowBalanceObserver`) - уведомления об изменениях баланса, слабая связь между объектами
9. **Шаблонный метод** (`DataImporter`) - общий алгоритм импорта данных с возможностью переопределения шагов

## ЗАПУСК ПРИЛОЖЕНИЯ

### ТРЕБОВАНИЯ
- Java 11 или выше
- Gradle 7.0 или выше

### ИНСТРУКЦИЯ ПО ЗАПУСКУ

1. **Сборка проекта**:
./gradlew build

2. **Запуск приложения**:
./gradlew run

3. ИСПОЛЬЗОВАНИЕ
Следуйте инструкциям в консольном меню
Для демонстрации всех паттернов выберите опцию 1
Для тестирования отдельных функций используйте соответствующие номера меню

ОСНОВНЫЕ КОМАНДЫ МЕНЮ:
1 - Демонстрация всех паттернов

2 - Создание счета

3-4 - Операции со счетом

6 - Экспорт данных (Посетитель)

9 - Демонстрация Наблюдателя

10-11 - Импорт данных (Шаблонный метод)

## СТРУКТУРА ПРОЕКТА

src/
├── bank/
│   ├── domain/          # Доменные сущности
│   ├── facade/          # Фасады
│   ├── factory/         # Фабрики
│   ├── repository/      # Репозитории и Прокси
│   ├── command/         # Команды и Декораторы
│   ├── observer/        # Наблюдатели
│   ├── exporter/        # Посетители для экспорта
│   ├── importer/        # Шаблонные методы импорта
│   └── di/             # DI контейнер


**НИУ ВШЭ** | Курс "Конструирование программного обеспечения"